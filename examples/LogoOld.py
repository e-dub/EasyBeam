#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Wed Nov 11 19:09:52 2020

@author: veit
"""

from EasyBeam import Beam2D
import numpy as np
import matplotlib.pyplot as plt
import matplotlib as mpl

Logo = Beam2D()
b = 10      # mm
h = 20      # mm
Logo.Properties = [['Prop1', 7.85e-9, 210000, b*h, b*h**3/12, h/2, -h/2]]
# Knoten [mm]
Logo.N = np.array([[ 90, 100],
                   [ 10, 100],
                   [  0,  90],
                   [  0,  50],
                   [  0,  10],
                   [ 10,   0],
                   [ 90,   0],
                   [ 80,  50],
                   [120,   0],  # a
                   [170,   0],
                   [180,  10],
                   [180,  35],
                   [180,  60],
                   [170,  70],
                   [120,  70],
                   [110,  10],
                   [110,  25],
                   [120,  35],
                   [200,   0],  # s
                   [260,   0],
                   [270,  10],
                   [270,  25],
                   [260,  35],
                   [210,  35],
                   [200,  45],
                   [200,  60],
                   [210,  70],
                   [270,  70],
                   [290,  70],  # y
                   [290,  10],
                   [300,   0],
                   [350,   0],
                   [360,  10],
                   [360,  70],
                   [360, -25],
                   [350, -35],
                   [300, -35],
                   [380,   0],  # B
                   [380,  50],
                   [380, 100],
                   [460, 100],
                   [470,  90],
                   [470,  60],
                   [460,  50],
                   [470,  40],
                   [470,  10],
                   [460,   0],
                   [500,   0],  # e
                   [560,   0],
                   [490,  10],
                   [490,  35],
                   [490,  60],
                   [500,  70],
                   [550,  70],
                   [560,  60],
                   [560,  45],
                   [550,  35],
                   [590,   0],  # a
                   [580,  10],
                   [580,  25],
                   [590,  35],
                   [650,  35],
                   [640,   0],
                   [650,  10],
                   [650,  60],
                   [640,  70],
                   [590,  70],
                   [670,   0],
                   [670,  60],
                   [680,  70],
                   [710,  70],
                   [720,  60],
                   [720,   0],
                   [730,  70],
                   [760,  70],
                   [770,  60],
                   [770,   0]])
# Elemente: welche Knoten werden verbunden?
Logo.El = np.array([[ 0,  1, 'Prop1'],
                    [ 1,  2, 'Prop1'],
                    [ 2,  3, 'Prop1'],
                    [ 3,  4, 'Prop1'],
                    [ 4,  5, 'Prop1'],
                    [ 5,  6, 'Prop1'],
                    [ 3,  7, 'Prop1'],
                    [ 6,  8, 'Prop1'],
                    [ 8,  9, 'Prop1'],
                    [ 9, 10, 'Prop1'],
                    [10, 11, 'Prop1'],
                    [11, 12, 'Prop1'],
                    [12, 13, 'Prop1'],
                    [13, 14, 'Prop1'],
                    [ 8, 15, 'Prop1'],
                    [15, 16, 'Prop1'],
                    [16, 17, 'Prop1'],
                    [17, 11, 'Prop1'],
                    [ 9, 18, 'Prop1'],
                    [18, 19, 'Prop1'],
                    [19, 20, 'Prop1'],
                    [20, 21, 'Prop1'],
                    [21, 22, 'Prop1'],
                    [22, 23, 'Prop1'],
                    [23, 24, 'Prop1'],
                    [24, 25, 'Prop1'],
                    [25, 26, 'Prop1'],
                    [26, 27, 'Prop1'],
                    [27, 28, 'Prop1'],
                    [28, 29, 'Prop1'],
                    [29, 30, 'Prop1'],
                    [30, 31, 'Prop1'],
                    [31, 32, 'Prop1'],
                    [32, 33, 'Prop1'],
                    [32, 34, 'Prop1'],
                    [34, 35, 'Prop1'],
                    [35, 36, 'Prop1'],
                    [31, 37, 'Prop1'],
                    [37, 38, 'Prop1'],
                    [38, 39, 'Prop1'],
                    [39, 40, 'Prop1'],
                    [40, 41, 'Prop1'],
                    [41, 42, 'Prop1'],
                    [42, 43, 'Prop1'],
                    [43, 44, 'Prop1'],
                    [44, 45, 'Prop1'],
                    [45, 46, 'Prop1'],
                    [46, 37, 'Prop1'],
                    [38, 43, 'Prop1'],
                    [46, 47, 'Prop1'],
                    [47, 48, 'Prop1'],
                    [47, 49, 'Prop1'],
                    [49, 50, 'Prop1'],
                    [50, 51, 'Prop1'],
                    [51, 52, 'Prop1'],
                    [52, 53, 'Prop1'],
                    [53, 54, 'Prop1'],
                    [54, 55, 'Prop1'],
                    [55, 56, 'Prop1'],
                    [56, 50, 'Prop1'],
                    [48, 57, 'Prop1'],
                    [57, 58, 'Prop1'],
                    [58, 59, 'Prop1'],
                    [59, 60, 'Prop1'],
                    [60, 61, 'Prop1'],
                    [57, 62, 'Prop1'],
                    [62, 63, 'Prop1'],
                    [63, 61, 'Prop1'],
                    [61, 64, 'Prop1'],
                    [64, 65, 'Prop1'],
                    [65, 66, 'Prop1'],
                    [62, 67, 'Prop1'],
                    [67, 68, 'Prop1'],
                    [68, 69, 'Prop1'],
                    [69, 70, 'Prop1'],
                    [70, 71, 'Prop1'],
                    [71, 72, 'Prop1'],
                    [71, 73, 'Prop1'],
                    [73, 74, 'Prop1'],
                    [74, 75, 'Prop1'],
                    [75, 76, 'Prop1']])
# Randbedingungen und Belastung [N] bzw. [Nmm]
Logo.Disp = [[ 0, [0, 0, 0]]]
Logo.Load = [[76, [0, -200, 0]]]
Logo.nStep = 100
Logo.Initialize()

Logo.StaticAnalysis()
Logo.Scale = 2
Logo.ComputeStress()

Logo.PlotMesh()
Logo.PlotDisplacement()
